---
title: 'workflow: Organising projects for reproducibility'
author: ZERO
date: '2018-04-18'
slug: workflow-organising-projects-for-reproducibility
categories:
  - computers
tags:
  - workflow
thumbnailImagePosition: left
thumbnailImage: https://i.loli.net/2018/04/18/5ad69eb806d94.jpg
metaAlignment: center
coverMeta: out
---



<div id="why-reproducible" class="section level1">
<h1>why reproducible</h1>
<blockquote>
<p>The fundamental idea behind a <strong>robust, reproducible analysis</strong> is a clean, repeatable script-based workflow (i.e. the sequence of tasks from the start to the end of a project) that links <strong>raw data</strong> through to <strong>clean data</strong> and to <strong>final analysis outputs</strong>.</p>
</blockquote>
<div id="principles-of-a-good-analysis-workflow" class="section level2">
<h2>principles of a good analysis workflow</h2>
<ol style="list-style-type: decimal">
<li>Any cleaning, merging, transforming, etc. of data <strong>should be done in scripts</strong>, not manually.</li>
<li><strong>Split your workflow (scripts) into logical thematic units</strong>. For example, you might separate your code into scripts that
<ul>
<li><ol style="list-style-type: lower-roman">
<li>load, merge and clean data</li>
</ol></li>
<li><ol start="2" style="list-style-type: lower-roman">
<li>analyse data</li>
</ol></li>
<li><ol start="3" style="list-style-type: lower-roman">
<li>produce outputs like figures and tables</li>
</ol></li>
</ul></li>
<li><p>Eliminate code duplication by <strong>packaging up useful code into custom functions</strong> (Programming: write a function). Make sure to comment your functions thoroughly, explaining their expected inputs and outputs, and what they are doing and why.</p></li>
<li><p><strong>Document your code and data as comments in your scripts</strong> or by producing separate documentation (see Programming and Reproducible reports).</p></li>
<li><p>Any intermediary outputs generated by your workflow should be kept separate from raw data. <strong>结果输出应该和原始数据分开</strong></p></li>
</ol>
</div>
</div>
<div id="file-system-structure" class="section level1">
<h1>file system structure</h1>
<ol style="list-style-type: decimal">
<li>The <code>data</code> folder contains all input data (and metadata) used in the analysis.</li>
<li>The <code>docs</code> folder contains the manuscript.</li>
<li>The <code>figs</code> directory contains figures generated by the analysis.</li>
<li>The <code>output_data</code> folder contains any type of intermediate or output files (e.g. simulation outputs, models, processed datasets, etc.). You might separate this and also have a cleaned-data folder.</li>
<li>The <code>scripts</code> contains R scripts with function definitions.</li>
<li>The <code>rmd</code> folder contains RMarkdown and reports files that document the analysis or report on results.</li>
</ol>
</div>
<div id="good-name-principle" class="section level1">
<h1>good name principle</h1>
<ol style="list-style-type: decimal">
<li>machine readable</li>
</ol>
<ul>
<li>Use delimiters to separate and make important metadata information</li>
<li>Avoid spaces, punctuation, accented characters and case sensitivity.</li>
<li>“_” to separate metadata to be extracted as strings later on</li>
<li>“-” instead of spaces or vice versa but do not mix</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>human readable</li>
</ol>
<ul>
<li>Ensure file names also include informative description of file contents</li>
<li>Adapt the concept of the slug to <strong>link outputs</strong> with <strong>the scripts in which they are generated</strong></li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>easy to order by default</li>
<li><strong>Starting file names with a number</strong> helps.</li>
<li>For data, this might be a date allowing chronological ordering.</li>
<li>Make sure to use ISO 8601 format <strong>(YYYY-MM-DD)</strong> to avoid confusion between differing local dating conventions.</li>
<li>For scripts, you could use <strong>a number indicating the position of the scripts</strong> <strong>in the analysis sequence</strong> e.g. 01_download-data.R</li>
</ol>
<p><img src="/Users/zero/Documents/_14_tmp/jixingBlogdown/GIF/qiehuan.gif" width="30%" style="display: block; margin: auto;" /></p>
</div>
