---
title: 'purrr: Use partial and map instead of loop'
author: ZERO
date: '2018-05-22'
slug: purrr-use-partial-and-map-instead-of-loop
categories:
  - computers
tags:
  - purrr
thumbnailImagePosition: left
thumbnailImage: /post/2018-05-22-purrr-use-partial-and-map-instead-of-loop_files/IMG_4733.JPG
metaAlignment: center
coverMeta: out
---



<center>
<h2>
<strong style="color: darkblue;">ğŸŒ I want to â€¦</strong>
</h2>
</center>
<p>create three normal distribution with <code>purrr::map</code> as simple as possible</p>
<center>
<h2>
<strong style="color: darkgreen;">ğŸŒ Hereâ€™s how to:</strong>
</h2>
</center>
<pre class="r"><code>library(tidyverse)
#rnorm(n=5, mean = mu, sd = sigma) #å‡½æ•°çš„ä¸€èˆ¬å½¢å¼

black_box &lt;- partial(rnorm, n=5)# å…ˆæŠŠä¸å˜çš„å›ºå®šä¸‹æ¥ï¼Œç”Ÿæˆæ–°çš„é»‘ç®±å‡½æ•°ï¼Œé»‘ç®±å‡½æ•°åªéœ€è¦æ¥å— map ä¼ é€’çš„å‚æ•°å³å¯ï¼Œ å…¶ä»–çš„å‚æ•°å·²ç»é€šè¿‡ Â·partialÂ· å›ºå®šä¸‹æ¥äº†

mu &lt;- list(10, 100, -100)# å‚æ•° x
sigma &lt;- list(0.01, 1, 10)# å‚æ•° y

map2(mu, sigma, ~ black_box(mean=.x, sd=.y)) %&gt;% 
  do.call(cbind, .)</code></pre>
<pre><code>##           [,1]      [,2]       [,3]
## [1,] 10.019420  99.98588  -94.94470
## [2,]  9.988821  99.71190  -83.55759
## [3,]  9.998299 100.89318 -104.27379
## [4,]  9.982813  99.90448  -95.00314
## [5,]  9.995378  99.57725 -115.84197</code></pre>
<center>
<h2>
<strong style="color: darkred;">ğŸŒ Ok, but why?</strong>
</h2>
</center>
<p>è¿™ä¸ªæ–¹æ³•ç‰¹åˆ«é€‚åˆç”¨äºæ‹¥æœ‰<strong style="color: darkred;">å¤æ‚å‚æ•°çš„å‡½æ•°</strong> ï¼Œ æ¯”å¦‚æœºå™¨å­¦ä¹ çš„ç®—æ³•ä¸­ï¼Œegï¼šçº¿æ€§å›å½’</p>
